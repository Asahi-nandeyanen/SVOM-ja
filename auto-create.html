<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVOMæ—¥æœ¬èªæ–‡ç« è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .config-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 2px solid #e2e8f0;
        }
        
        .config-section h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .url-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 10px;
            transition: border-color 0.3s ease;
        }
        
        .url-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .load-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s ease;
            margin-right: 10px;
        }
        
        .load-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .load-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .generate-section {
            text-align: center;
            margin: 30px 0;
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 0 10px;
        }
        
        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(72, 187, 120, 0.4);
        }
        
        .output-section {
            background: #1a202c;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            min-height: 200px;
        }
        
        .output-section h3 {
            color: #68d391;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .sentence {
            font-size: 18px;
            line-height: 1.8;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 4px solid #68d391;
        }
        
        .status {
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .status.success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }
        
        .status.error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #fc8181;
        }
        
        .status.loading {
            background: #bee3f8;
            color: #2a4365;
            border: 1px solid #90cdf4;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .data-preview {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .data-preview h4 {
            margin: 0 0 10px 0;
            color: #4a5568;
        }
        
        .data-preview div {
            font-size: 14px;
            color: #718096;
            margin: 2px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‡¯ğŸ‡µ SVOMæ—¥æœ¬èªæ–‡ç« è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>
        
        <div class="config-section">
            <h2>ğŸ“‚ GitHub Raw URLè¨­å®š</h2>
            <input type="text" id="timeUrl" class="url-input" placeholder="æ™‚é–“ä¿®é£¾èªã®URL (modifiers_time.txt)" 
                   value="https://raw.githubusercontent.com/Asahi-nandeyanen/SVOM-ja/refs/heads/main/modifiers_time.txt">
            <input type="text" id="locationUrl" class="url-input" placeholder="å ´æ‰€ä¿®é£¾èªã®URL (modifiers_location.txt)" 
                   value="https://raw.githubusercontent.com/Asahi-nandeyanen/SVOM-ja/refs/heads/main/modifiers_location.txt">
            <input type="text" id="subjectsUrl" class="url-input" placeholder="ä¸»èªã®URL (subjects.txt)" 
                   value="https://raw.githubusercontent.com/Asahi-nandeyanen/SVOM-ja/refs/heads/main/modifiers_location.txt">
            <input type="text" id="verbsUrl" class="url-input" placeholder="å‹•è©ã®URL (verbs.txt)" 
                   value="https://raw.githubusercontent.com/Asahi-nandeyanen/SVOM-ja/refs/heads/main/verbs.txt">
            
            <button class="load-btn" onclick="loadAllData()">ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿</button>
            <button class="load-btn" onclick="useLocalData()">ğŸ’¾ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨</button>
            
            <div id="status"></div>
        </div>

        <div class="grid" id="dataPreview" style="display: none;">
            <div class="data-preview">
                <h4>æ™‚é–“ä¿®é£¾èª (M-Time)</h4>
                <div id="timePreview"></div>
            </div>
            <div class="data-preview">
                <h4>å ´æ‰€ä¿®é£¾èª (M-Location)</h4>
                <div id="locationPreview"></div>
            </div>
            <div class="data-preview">
                <h4>ä¸»èª (S)</h4>
                <div id="subjectsPreview"></div>
            </div>
            <div class="data-preview">
                <h4>å‹•è© (V)</h4>
                <div id="verbsPreview"></div>
            </div>
        </div>
        
        <div class="generate-section">
            <button class="generate-btn" onclick="generateSentence()">ğŸ² æ–‡ç« ã‚’ç”Ÿæˆ</button>
            <button class="generate-btn" onclick="generateMultiple()">ğŸ“ è¤‡æ•°ç”Ÿæˆ (5å€‹)</button>
        </div>
        
        <div class="output-section">
            <h3>ğŸ“„ ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« </h3>
            <div id="output">ã“ã“ã«ç”Ÿæˆã•ã‚ŒãŸæ–‡ç« ãŒè¡¨ç¤ºã•ã‚Œã¾ã™...</div>
        </div>
    </div>

    <script>
        // ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        let svomData = {
            timeModifiers: [],
            locationModifiers: [],
            subjects: [],
            verbs: []
        };

        // æ”¹è‰¯ã•ã‚ŒãŸãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿
        const localData = {
            timeModifiers: [
                "ä»Šæœ", "ä»Šæ™©", "åˆå‰ä¸­ã«", "åˆå¾Œã«", "æ˜å¾Œæ—¥", "æ˜æ—¥", "ä»Šæ—¥", "æ˜¨æ—¥", "ä¸€æ˜¨æ—¥",
                "å†æ¥å¹´ã«", "æ¥å¹´ã«", "ä»Šå¹´", "å»å¹´", "ä¸€æ˜¨å¹´ã«", "å…ˆã€…é€±ã«", "å…ˆé€±ã«", "ä»Šé€±", 
                "ä»Šé€±æœ«ã«", "æ¥é€±ã«", "æ¥é€±æœ«ã«", "å†æ¥é€±ã«", "æ—¥æ›œæ—¥ã«", "æœˆæ›œæ—¥ã«", "ç«æ›œæ—¥ã«", 
                "æ°´æ›œæ—¥ã«", "æœ¨æ›œæ—¥ã«", "é‡‘æ›œæ—¥ã«", "åœŸæ›œæ—¥ã«", "æœ", "æ˜¼ã«", "å¤œã«", "å¤•æ–¹ã«", 
                "æ·±å¤œã«", "æ˜ã‘æ–¹ã«", "æœ€è¿‘", "ã—ã°ã‚‰ãå‰ã«", "å¾Œã§", "å°†æ¥", "æ¯æ—¥", "æ™‚ã€…", "ã„ã¤ã‚‚", "ãŸã¾ã«"
            ],
            locationModifiers: [
                "å®¶ã§", "å­¦æ ¡ã§", "ä¼šç¤¾ã§", "å…¬åœ’ã§", "é§…ã§", "ç—…é™¢ã§", "å›³æ›¸é¤¨ã§", "ã‚¹ãƒ¼ãƒ‘ãƒ¼ã§", 
                "ã‚³ãƒ³ãƒ“ãƒ‹ã§", "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§", "ã‚«ãƒ•ã‚§ã§", "éŠ€è¡Œã§", "éƒµä¾¿å±€ã§", "å¸‚å½¹æ‰€ã§", 
                "æ˜ ç”»é¤¨ã§", "æœ¬å±‹ã§", "è–¬å±€ã§", "ç¾å®¹é™¢ã§", "æ­¯åŒ»è€…ã§", "è¿‘æ‰€ã§", "å•†åº—è¡—ã§", 
                "ãƒ‡ãƒ‘ãƒ¼ãƒˆã§", "ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã§", "ä½“è‚²é¤¨ã§", "ãƒ—ãƒ¼ãƒ«ã§", "æµ·ã§", "å±±ã§", 
                "å·ã§", "ç•‘ã§", "åº­ã§", "ãƒ™ãƒ©ãƒ³ãƒ€ã§", "ç„é–¢ã§", "ãƒªãƒ“ãƒ³ã‚°ã§", "ã‚­ãƒƒãƒãƒ³ã§", 
                "å¯å®¤ã§", "ãŠé¢¨å‘‚ã§", "ãƒˆã‚¤ãƒ¬ã§", "å»Šä¸‹ã§", "éšæ®µã§", "å±‹ä¸Šã§", "åœ°ä¸‹ã§", 
                "é§è»Šå ´ã§", "ãƒã‚¹åœã§", "é›»è»Šã®ä¸­ã§", "è»Šã®ä¸­ã§"
            ],
            subjects: [
                "ç§ã¯", "ã‚ãªãŸã¯", "å½¼ã¯", "å½¼å¥³ã¯", "å¤ªéƒã¯", "èŠ±å­ã¯", "ç”°ä¸­ã•ã‚“ã¯", "ä½è—¤ã•ã‚“ã¯",
                "å…ˆç”Ÿã¯", "ç”Ÿå¾’ã¯", "å‹é”ã¯", "å®¶æ—ã¯", "ãŠçˆ¶ã•ã‚“ã¯", "ãŠæ¯ã•ã‚“ã¯", "ãŠå…„ã•ã‚“ã¯", 
                "ãŠå§‰ã•ã‚“ã¯", "å¼Ÿã¯", "å¦¹ã¯", "ãŠã˜ã„ã•ã‚“ã¯", "ãŠã°ã‚ã•ã‚“ã¯", "å­ä¾›ã¯", "å¤§äººã¯", 
                "ç”·æ€§ã¯", "å¥³æ€§ã¯", "çŠ¬ã¯", "çŒ«ã¯", "é³¥ã¯"
            ],
            verbs: [
                "æœ¬ã‚’èª­ã‚“ã ", "æ˜ ç”»ã‚’è¦‹ãŸ", "éŸ³æ¥½ã‚’èã„ãŸ", "å‹‰å¼·ã—ãŸ", "ä»•äº‹ã‚’ã—ãŸ", "æ–™ç†ã‚’ä½œã£ãŸ",
                "æƒé™¤ã‚’ã—ãŸ", "æ´—æ¿¯ã‚’ã—ãŸ", "è²·ã„ç‰©ã‚’ã—ãŸ", "æ•£æ­©ã‚’ã—ãŸ", "é‹å‹•ã‚’ã—ãŸ", "ã‚²ãƒ¼ãƒ ã‚’ã—ãŸ",
                "é›»è©±ã‚’ã—ãŸ", "ãƒ¡ãƒ¼ãƒ«ã‚’é€ã£ãŸ", "å†™çœŸã‚’æ’®ã£ãŸ", "çµµã‚’æã„ãŸ", "æ­Œã‚’æ­Œã£ãŸ", "è¸Šã£ãŸ",
                "ç¬‘ã£ãŸ", "æ³£ã„ãŸ", "æ€’ã£ãŸ", "é©šã„ãŸ", "å–œã‚“ã ", "æ‚²ã—ã‚“ã ", "è€ƒãˆãŸ", "æ±ºã‚ãŸ",
                "é¸ã‚“ã ", "æ¢ã—ãŸ", "è¦‹ã¤ã‘ãŸ", "ä½œã£ãŸ", "ç›´ã—ãŸ", "å£Šã—ãŸ", "é–‹ã‘ãŸ", "é–‰ã‚ãŸ",
                "å…¥ã£ãŸ", "å‡ºãŸ", "åº§ã£ãŸ", "ç«‹ã£ãŸ", "æ­©ã„ãŸ", "èµ°ã£ãŸ", "é£›ã‚“ã ", "æ³³ã„ã ",
                "é£Ÿã¹ãŸ", "é£²ã‚“ã ", "å¯ãŸ", "èµ·ããŸ", "è©±ã—ãŸ", "èã„ãŸ", "è¦‹ãŸ", "è§¦ã£ãŸ",
                "å—…ã„ã ", "å‘³ã‚ã£ãŸ", "æ„Ÿã˜ãŸ"
            ]
        };

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºé–¢æ•°
        function showStatus(message, type = 'loading') {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
        }

        // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿é–¢æ•°
        async function loadDataFromUrl(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const text = await response.text();
                return text.split('\n').map(line => line.trim()).filter(line => line);
            } catch (error) {
                console.error('Error loading data:', error);
                throw error;
            }
        }

        // å…¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
        async function loadAllData() {
            const timeUrl = document.getElementById('timeUrl').value;
            const locationUrl = document.getElementById('locationUrl').value;
            const subjectsUrl = document.getElementById('subjectsUrl').value;
            const verbsUrl = document.getElementById('verbsUrl').value;

            if (!timeUrl || !locationUrl || !subjectsUrl || !verbsUrl) {
                showStatus('âŒ ã™ã¹ã¦ã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            showStatus('ğŸ”„ ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...', 'loading');

            try {
                const [timeData, locationData, subjectsData, verbsData] = await Promise.all([
                    loadDataFromUrl(timeUrl),
                    loadDataFromUrl(locationUrl),
                    loadDataFromUrl(subjectsUrl),
                    loadDataFromUrl(verbsUrl)
                ]);

                svomData = {
                    timeModifiers: timeData,
                    locationModifiers: locationData,
                    subjects: subjectsData,
                    verbs: verbsData
                };

                showStatus('âœ… ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ãŒå®Œäº†ã—ã¾ã—ãŸï¼', 'success');
                updateDataPreview();
            } catch (error) {
                showStatus(`âŒ ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`, 'error');
            }
        }

        // ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
        function useLocalData() {
            svomData = { ...localData };
            showStatus('âœ… ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼', 'success');
            updateDataPreview();
        }

        // ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ›´æ–°
        function updateDataPreview() {
            document.getElementById('dataPreview').style.display = 'grid';
            
            document.getElementById('timePreview').innerHTML = 
                svomData.timeModifiers.slice(0, 10).map(item => `<div>${item}</div>`).join('') + 
                (svomData.timeModifiers.length > 10 ? `<div>...ä»–${svomData.timeModifiers.length - 10}å€‹</div>` : '');
            
            document.getElementById('locationPreview').innerHTML = 
                svomData.locationModifiers.slice(0, 10).map(item => `<div>${item}</div>`).join('') + 
                (svomData.locationModifiers.length > 10 ? `<div>...ä»–${svomData.locationModifiers.length - 10}å€‹</div>` : '');
            
            document.getElementById('subjectsPreview').innerHTML = 
                svomData.subjects.slice(0, 10).map(item => `<div>${item}</div>`).join('') + 
                (svomData.subjects.length > 10 ? `<div>...ä»–${svomData.subjects.length - 10}å€‹</div>` : '');
            
            document.getElementById('verbsPreview').innerHTML = 
                svomData.verbs.slice(0, 10).map(item => `<div>${item}</div>`).join('') + 
                (svomData.verbs.length > 10 ? `<div>...ä»–${svomData.verbs.length - 10}å€‹</div>` : '');
        }

        // ãƒ©ãƒ³ãƒ€ãƒ é¸æŠé–¢æ•°
        function randomChoice(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // æ–‡ç« ç”Ÿæˆé–¢æ•°
        function generateSentence() {
            if (svomData.timeModifiers.length === 0) {
                showStatus('âŒ å…ˆã«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ãã ã•ã„', 'error');
                return;
            }

            // SVOMæ§‹é€ ã§æ–‡ç« ã‚’ç”Ÿæˆï¼ˆæ”¹è‰¯ç‰ˆï¼‰
            // ã‚ˆã‚Šè‡ªç„¶ãªèªé †ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
            
            const patterns = [
                () => `${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.subjects)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.verbs)}ã€‚`,
                () => `${randomChoice(svomData.subjects)}${randomChoice(svomData.timeModifiers)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.verbs)}ã€‚`,
                () => `${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.subjects)}${randomChoice(svomData.verbs)}ã€‚`,
                () => `${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.subjects)}${randomChoice(svomData.verbs)}ã€‚`,
                () => `${randomChoice(svomData.subjects)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.timeModifiers)}${randomChoice(svomData.verbs)}ã€‚`
            ];

            const sentence = randomChoice(patterns)();
            document.getElementById('output').innerHTML = `<div class="sentence">${sentence}</div>`;
        }

        // è¤‡æ•°ç”Ÿæˆé–¢æ•°
        function generateMultiple() {
            if (svomData.timeModifiers.length === 0) {
                showStatus('âŒ å…ˆã«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ãã ã•ã„', 'error');
                return;
            }

            let output = '';
            for (let i = 0; i < 5; i++) {
                const patterns = [
                    () => `${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.subjects)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.verbs)}ã€‚`,
                    () => `${randomChoice(svomData.subjects)}${randomChoice(svomData.timeModifiers)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.verbs)}ã€‚`,
                    () => `${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.subjects)}${randomChoice(svomData.verbs)}ã€‚`,
                    () => `${randomChoice(svomData.timeModifiers)}ã€${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.subjects)}${randomChoice(svomData.verbs)}ã€‚`,
                    () => `${randomChoice(svomData.subjects)}${randomChoice(svomData.locationModifiers)}${randomChoice(svomData.timeModifiers)}${randomChoice(svomData.verbs)}ã€‚`
                ];
                
                const sentence = randomChoice(patterns)();
                output += `<div class="sentence">${i + 1}. ${sentence}</div>`;
            }
            document.getElementById('output').innerHTML = output;
        }

        // åˆæœŸåŒ–æ™‚ã«ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
        window.onload = function() {
            useLocalData();
        };
    </script>
</body>
</html>
